<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Array Cardio üí™ </title>
</head>
<body>
  <p><em>Psst: have a look at the JavaScript Console</em> üíÅ</p>
  <script>
    // Get your shorts on - this is an array workout!
    // ## Array Cardio Day 1 

    // Some data we can work with

    const my2dArray = [
      [14, 15, 14, 65, 38],
      [16, 75, 34, 65, 58],
      [98, 255, 47, 87, 72],
    ];

    const my3dArray = [
      [14, [16, 75, 34, 65, 58], 14, [16, 75, 34, 65, 58], 38],
      [16, 75, [16, 75, 34, 65, 58], 65, [16, 75, 34, 65, 58]],
      [98, 255, [16, 75, 34, 65, 58], 87, 72],
    ];

    const inventors = [
      { first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 },
      { first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 },
      { first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 },
      { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 },
      { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 },
      { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 },
      { first: 'Max', last: 'Planck', year: 1858, passed: 1947 },
      { first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 },
      { first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 },
      { first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 },
      { first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 },
      { first: 'Hanna', last: 'Hammarstr√∂m', year: 1829, passed: 1909 }
    ];

    const people = ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Beethoven, Ludwig', 'Begin, Menachem', 'Belloc, Hilaire', 'Bellow, Saul', 'Benchley, Robert', 'Benenson, Peter', 'Ben-Gurion, David', 'Benjamin, Walter', 'Benn, Tony', 'Bennington, Chester', 'Benson, Leana', 'Bent, Silas', 'Bentsen, Lloyd', 'Berger, Ric', 'Bergman, Ingmar', 'Berio, Luciano', 'Berle, Milton', 'Berlin, Irving', 'Berne, Eric', 'Bernhard, Sandra', 'Berra, Yogi', 'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin', 'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph', 'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 'Biondo, Frank', 'Birrell, Augustine', 'Black, Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William'];

    // Array.prototype.filter()
    // 1. Filter the list of inventors for those who were born in the 1500's
    // const fifteenHundos = inventors.filter(function(inventor) {
    //   if (inventor.year >= 1500 && inventor.year <= 1600) {
    //     return true;
    //   }
    // }); <- make this an arrow function, buddy!

    const fifteenHundos = inventors.filter(inventor => (inventor.year >= 1500 && inventor.year <= 1600));//works great! 

    console.table(fifteenHundos);
    console.table(my2dArray);
    console.table(my3dArray);
    //here it is interesting that I'm going back over dimensional arrays in C++ which can be thought of as primitive tables with rows and columns - so look at this neat trick above^^ You can put information in a neat table in console if it's an array of objects. Wonder if you can do it with an (2d)array of arrays? What about a 3d Array? Very interesting!


    // Array.prototype.map()
    // 2. Give us an array of the inventors' first and last names

    const fullNames = inventors.map(inventor => (`${inventor.first} ${inventor.last}`));//rem: it's an array of objects, that's why map works on it.


    console.log(fullNames);

    // Array.prototype.sort()
    // 3. Sort the inventors by birthdate, oldest to youngest

    const ordered = inventors.sort((a,b) => a.year>b.year ? 1 : -1);

    console.table(ordered);

    // Array.prototype.reduce()
    // 4. How many years did all the inventors live all together?

    const totalYears = inventors.reduce((total, inventor) => {
      return total += (inventor.passed - inventor.year);
    }, 0);

    console.log(totalYears);// lol, looks like he added some inventors since the video!

    // 5. Sort the inventors by years lived

    const oldest = inventors.sort((a, b) => (a.passed - a.year) > (b.passed - b.year) ? 1 : -1);
    //yay! mine was better than his!

    console.table(oldest);

    // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name
    // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris
    //const category = document.querySelector('.mw-category');
    //const links = category.querySelectorAll('a');
    //^^ we learned here that you cannot reassign to a const!! esp bad in console!
    
    //we also learned that 'links' provides a node list, not an array, so you cannot map something that's not an array. There are two ways to turn a list that's not an array into an array. First you can use the spread operator: 
    //const links = [...category.querySelectorAll('a')];
    //OR, and more eloquent:
    //const links = Array.from(category.querySelectorAll('a'));
    //const de = links.map(link => link.textContent);
    //man, this is great!! I had no idea you could act on someone elses web page from the console. Question is, how do you make it so that you can download the shit, grab things, save them into files, objects, etc??


    
    // 7. sort Exercise
    // Sort the people alphabetically by last name
    const alphabeta = people.sort((a, b) => a > b ? -1 : 1);

    console.log(alphabeta);

    //his version seemed to split the thing unnecessarily each time the sort loop happened. not sure why..



    // 8. Reduce Exercise
    // Sum up the instances of each of these
    const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];

    const dataReduced = data.reduce((acc, val) => {
      acc[val] = acc[val] === undefined ? 1 : acc[val]+=1
      return acc;
    }, {});
    
    console.log(dataReduced);
    //I looked this one up on stack overflow and I think this guy's solution is beautiful - I adapted it. Basically, theres the accumulator(key) and the value and they are dumped into an empty object. if the new accumlator value is undefined, it'll make a key and a value of 1, or else it'll add 1 to the existing key's value. 
    // here's my rework to try to understand this - apparently, according to the debugger, the accumulator is the object, and value is what's in each iteration of reduce on the array. So, if the value isn't there, obj[value] = 1 will make it. If it is there, the value will be added to that part of the object. 
    const dataReduced2 = data.reduce((obj, value) => {
      if (obj[value] === undefined) {
        obj[value] = 1;
      } else {
        obj[value] += 1;
      }
      return obj;
    }, {});

    console.log(dataReduced2);
    //Wes' version: 
    // he uses an anonymous function and one of his habits is to check with console.log at each stage to see if stuff is working properly. Notice also that his nomenclature is pretty on point. Our accumulator here is the object. The value is the item in each part of the array. His is pretty elegant also. he started by saying 'object of item' for obj[item] - thta seems like a pretty important concept to understand. The rest was pretty straightforward - obj[item]++ accumulates the key's value each time. If it doesn't exist, an if statement to check - if there's no obj[item](the item each iteration), it's created and it's value is set to 0. Then it's plus plussed like ever other time, and the object is returned.

    const transportation = data.reduce (function (obj, item) {
      //console.log(item); ok so works pretty well logs out each item in array
      if (!obj[item]) {
        obj[item] = 0;
      }
      obj[item]++;
      return obj;
    }, {});

    console.log(transportation);




  </script>
</body>
</html>
